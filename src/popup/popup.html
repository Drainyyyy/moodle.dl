<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>moodle.download</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="app">
      <header class="header">
        <div class="brand">
          <img class="logo" src="icons/icon48.png" alt="moodle.download" />
          <div class="brand-text">
            <div class="title" data-i18n="popupTitle"></div>
            <div class="subtitle">moodle.download</div>
          </div>
        </div>
        <div class="actions">
          <a
            id="repoLink"
            class="repo-link"
            href="#"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="GitHub"
            title="GitHub"
            >GitHub</a
          >
          <button id="btnReset" class="btn btn-ghost" type="button" data-i18n="resetTracking"></button>
        </div>
      </header>

      <section id="telemetryPanel" class="panel hidden" role="dialog" aria-modal="true">
        <div class="panel-title" data-i18n="telemetryOptIn"></div>
        <div class="panel-actions">
          <button id="telemetryNo" class="btn btn-ghost" type="button" data-i18n="no"></button>
          <button id="telemetryYes" class="btn" type="button" data-i18n="yes"></button>
        </div>
      </section>

      <section class="toolbar">
        <div class="toolbar-row">
          <label class="toggle">
            <input id="chkOnlyNew" type="checkbox" />
            <span class="toggle-track" aria-hidden="true"><span class="toggle-thumb"></span></span>
            <span class="toggle-label" data-i18n="onlyNewFiles"></span>
          </label>

          <div class="spacer"></div>

          <label class="select">
            <span class="select-label" data-i18n="sortBy"></span>
            <select id="selSort" class="select-input">
              <option value="path" data-i18n="sortPath"></option>
              <option value="type" data-i18n="sortType"></option>
              <option value="name" data-i18n="sortName"></option>
              <option value="new" data-i18n="sortNew"></option>
            </select>
          </label>
        </div>

        <div class="toolbar-row">
          <button id="btnSelectAll" class="btn btn-ghost" type="button" data-i18n="selectAll"></button>
          <button id="btnDeselectAll" class="btn btn-ghost" type="button" data-i18n="deselectAll"></button>

          <div class="spacer"></div>

          <div class="save">
            <button id="btnSaveMenu" class="btn btn-ghost" type="button">
              <span id="saveLabel" class="save-label">Downloads</span>
            </button>
            <div id="saveMenu" class="menu hidden" role="menu">
              <button id="saveToDownloads" class="menu-item" type="button" data-i18n="saveToDownloads"></button>
              <button id="saveAskEveryTime" class="menu-item" type="button" data-i18n="saveAskEveryTime"></button>
              <button id="savePickFolder" class="menu-item" type="button" data-i18n="savePickFolder"></button>
              <button id="saveClearFolder" class="menu-item danger" type="button" data-i18n="saveClearFolder"></button>
            </div>
          </div>

          <button id="btnDownload" class="btn btn-primary" type="button" data-i18n="downloadAsZip"></button>
        </div>
      </section>

      <section class="status">
        <div id="statusText" class="status-text">...</div>
        <div class="progress">
          <div id="progressBar" class="progress-bar" style="width: 0%"></div>
        </div>
      </section>

      <main class="list" id="resourceList" aria-live="polite"></main>

      <section id="errorPanel" class="error hidden">
        <div id="errorText" class="error-text"></div>
        <div class="error-actions">
          <button id="btnRetry" class="btn" type="button" data-i18n="retry"></button>
        </div>
      </section>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
